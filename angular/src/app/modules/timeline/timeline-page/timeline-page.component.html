<div class="timeline-container page">
  <div class="timeline-content content">
    
    <div class="save buttons">
      <button mat-raised-button color="primary" (click)="saveChanges()"
        class="add-entry-btn">{{"TIMELINE.TIMELINEPAGE.SAVE" | translate}}</button> 
        <h5>Cambios sin guardar</h5>
    </div>
    <h2>{{'TIMELINE.TIMELINEPAGE.TITLE' | translate}} {{timeline.title}}</h2>
    <h4>{{'TIMELINE.TIMELINEPAGE.SUBTITLE' | translate}} {{timeline.subtitle }}</h4>
    <h5>{{'TIMELINE.TIMELINEPAGE.CATEGORY' | translate}} {{'CATEGORIES.CATEGORIES.' + timeline.category | translate}}</h5>
    <div class="title buttons">
      <a mat-raised-button color="primary" class="add-entry-btn" title="Download JSON" [href]="downloadJsonHref" download='{{(timeline.title || "untitled") + ".json"}}' (click)="generateDownloadJsonUri()">{{"TIMELINE.TIMELINEPAGE.EXPORT" | translate}}</a>
      <button mat-raised-button color="primary" class="add-entry-btn" (click)="editTimeline()">{{"TIMELINE.TIMELINEPAGE.EDIT" | translate}}</button>
      <button mat-raised-button color="primary" class="add-entry-btn" (click)="publish()">{{(timeline.published ? "TIMELINE.TIMELINEPAGE.UNPUBLISH" : "TIMELINE.TIMELINEPAGE.PUBLISH") | translate}}</button>
      <button mat-raised-button color="warn" class="add-entry-btn" (click)="deleteTimeline()">{{"TIMELINE.TIMELINEPAGE.DELETE" | translate}}</button>
    </div>
    <mat-divider class="divider"></mat-divider>
    <div>
      
      <h4>{{'TIMELINE.TIMELINEPAGE.ENTRIES' | translate}}</h4>
      <ng-container *ngFor="let entry of timeline.entries" class="entry-container">
        <div class="entry-container">
          <app-entry [entry]=entry (delete)="deleteEntry($event)" (modify)="modifyEntry($event)"
            [timeline]="this.timeline">
          </app-entry>
        </div>
      </ng-container>
    </div>
    <div class="entries buttons">
      <button mat-raised-button color="primary" (click)="newEntry()"
        class="add-entry-btn">{{"TIMELINE.TIMELINEPAGE.ADD" | translate}}</button>
    </div>
  </div>
  <mat-divider vertical></mat-divider>
  <div id='timeline-embed' style="width: 90%; height: 600px;background-color: var(--content-background);
  border: 1px solid var(--content-border) ;
  color: var(--font-color);margin-right: 2%;"></div>


</div>